# Local development environment overrides
version: '3.8'

services:
  api-gateway:
    environment:
      - USER_SERVICE_URL=http://localhost:8001
      - PRODUCT_SERVICE_URL=http://localhost:8002
      - ORDER_SERVICE_URL=http://localhost:8003

  user-service:
    environment:
      - DATABASE_URL=postgresql://app:app@localhost:5432/appdb
      - REDIS_URL=redis://localhost:6379
      - JWT_SECRET_KEY=local-development-secret-key

  product-service:
    environment:
      - DATABASE_URL=postgresql://app:app@localhost:5432/appdb
      - REDIS_URL=redis://localhost:6379
      - RABBITMQ_URL=amqp://app:app@localhost:5672/

  order-service:
    environment:
      - DATABASE_URL=postgresql://app:app@localhost:5432/appdb
      - REDIS_URL=redis://localhost:6379
      - RABBITMQ_URL=amqp://app:app@localhost:5672/
      - USER_SERVICE_URL=http://localhost:8001
      - PRODUCT_SERVICE_URL=http://localhost:8002
